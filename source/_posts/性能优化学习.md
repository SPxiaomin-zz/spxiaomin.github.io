---
title: 性能优化学习
date: 2017-04-27 11:17:09
categories: ['技术']
tags: ['性能']
---

## HTML

1. 精简 HTML，减少不必要的元素。

  其中的一条是结构和样式分离，e.g. 不要使用 HTML 元素来做 CSS 可以做的事情，使用 `<br>` 来添加空行。

## CSS

1. 放在 `<head>` 标签部分，避免空白或闪烁。

2. 借用属性的继承特性。

3. 减少选择器的层级。

## JavaScript

1. 放在文件尾部，防止阻塞页面的显示。

2. 写代码避免重绘和重流。

  注意样式读写操作的顺序。

  ```js
  // 优化前，一次重绘，一次重流
  div.style.color = 'blue';
  let margin = parseInt(div.style.marginTop);
  div.style.marginTop = `${margin + 10}px`;

  // 优化后，一次重流
  let margin = parseInt(div.style.marginTop);
  div.style.color = 'blue';
  div.style.marginTop = `${margin + 10}px`;
  ```

## 其他

1. 最小化JavaScript和CSS文件。

2. 尽可能的减少HTTP请求数

  - 背景图片是预先合并好的，这样能节省网站的 HTTP 请求。
  - JavaScript合并。
  - CSS合并。

3. 使用CDN（内容分发网络）

  - 缺点是要钱。

4. 使用缓存机制。

5. 启用Gzip压缩。

END.
